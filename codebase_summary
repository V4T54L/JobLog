{
  "Dockerfile": "- File Path: `Dockerfile`\n- High-Level Purpose: This Dockerfile defines a multi-stage build process to create a minimal Docker image for the Go backend application, including its static frontend assets.\n- Definitions in the File:\n    - Build Stages:\n        - `builder`: Uses `golang:1.21-alpine` to build the Go application binary.\n        - Final Stage: Uses `alpine:latest` as a base for the final, minimal image.\n    - Instructions:\n        - `FROM`: Specifies base images for stages.\n        - `WORKDIR`: Sets the working directory inside the container.\n        - `COPY`: Copies files from the host or previous stages into the container.\n        - `RUN`: Executes commands during the image build (e.g., `go mod download`, `go build`).\n        - `EXPOSE`: Informs Docker that the container listens on the specified network ports at runtime.\n        - `CMD`: Provides the default command to execute when the container starts.\n- Notable Patterns or Logic: Multi-stage Docker build for optimized image size, Go application compilation, static asset inclusion.\n",
  "client/index.html": "- File Path: `client/index.html`\n- High-Level Purpose: This is the main HTML file that serves as the entry point for the client-side single-page application (SPA). It sets up the basic document structure, imports necessary CSS and JavaScript libraries, and defines the root element for the application.\n- Definitions in the File:\n    - HTML Elements:\n        - `html`: Root element, sets `lang` and initial `light` theme class.\n        - `head`: Contains metadata, title, Tailwind CSS import and configuration, and Marked.js import.\n        - `body`: Sets global styling classes and contains the main `div#app` where JavaScript will render content.\n    - Script Imports:\n        - `https://cdn.tailwindcss.com`: Tailwind CSS framework.\n        - `https://cdn.jsdelivr.net/npm/marked/marked.min.js`: Markdown parsing library.\n        - `/js/main.js`: The main JavaScript entry point for the application (module type).\n- Notable Patterns or Logic: Single Page Application (SPA) entry point, client-side rendering, Tailwind CSS integration (with custom typography and forms plugins), external library imports.\n",
  "client/js/components/ApplicationCard.js": "- File Path: `client/js/components/ApplicationCard.js`\n- High-Level Purpose: This file defines a reusable JavaScript component that renders a single job application as a clickable card, suitable for display in a list.\n- Definitions in the File:\n    - Functions:\n        - `ApplicationCard(app)`: An exported function that takes an `app` object (representing a job application) and returns a dynamically created `\u003ca\u003e` (anchor) DOM element. This element is styled as a card and displays the application's role ID, company ID, status, and formatted application date.\n- Notable Patterns or Logic: UI component, DOM manipulation, client-side navigation (`data-link` attribute).\n",
  "client/js/components/BlogPostCard.js": "- File Path: `client/js/components/BlogPostCard.js`\n- High-Level Purpose: This file defines a reusable JavaScript component that renders a single blog post as a clickable card, suitable for display in a list.\n- Definitions in the File:\n    - Functions:\n        - `BlogPostCard(post)`: An exported function that takes a `post` object (representing a blog post) and returns a dynamically created `\u003ca\u003e` (anchor) DOM element. This element is styled as a card and displays the post's title, excerpt, author's username, and creation date.\n- Notable Patterns or Logic: UI component, DOM manipulation, client-side navigation (`data-link` attribute).\n",
  "client/js/components/CommentItem.js": "- File Path: `client/js/components/CommentItem.js`\n- High-Level Purpose: This file defines a reusable JavaScript component that renders a single comment, including its content, author, date, and options to like or reply, supporting nested replies.\n- Definitions in the File:\n    - Functions:\n        - `createCommentForm(postId, parentCommentId, onCommentAdded)`: An internal function that generates and returns an HTML form for submitting a reply to a comment. It handles form submission, calls `BlogService.addComment`, and invokes a callback on successful comment addition.\n        - `CommentItem(comment, postId, onCommentAdded)`: An exported function that takes a `comment` object, `postId`, and an `onCommentAdded` callback. It dynamically creates a `div` element representing the comment, displaying its content (HTML), author, and creation date. It includes buttons for liking and replying (if the user is logged in) and recursively renders any child comments. It attaches event listeners for the reply button to toggle the visibility of the reply form.\n- Notable Patterns or Logic: UI component, DOM manipulation, recursive rendering for nested comments, event handling, conditional rendering based on authentication status, asynchronous API calls.\n",
  "client/js/components/Navbar.js": "- File Path: `client/js/components/Navbar.js`\n- High-Level Purpose: This file defines the main navigation bar component for the application, which dynamically displays links based on the user's authentication status and includes a theme switcher.\n- Definitions in the File:\n    - Functions:\n        - `Navbar()`: An exported function that creates and returns the navigation bar DOM element. It sets up an internal `render` function that updates the navbar's content based on the current theme and login status. It subscribes to authentication state changes to re-render automatically.\n        - `render()`: An internal function within `Navbar` that generates the HTML for the navigation bar, including conditional links for logged-in/logged-out users and a theme toggle button. It attaches event listeners for theme switching and logout.\n- Notable Patterns or Logic: UI component, state subscription (publish-subscribe pattern), DOM manipulation, conditional rendering, theme toggling, client-side navigation.\n",
  "client/js/main.js": "- File Path: `client/js/main.js`\n- High-Level Purpose: This is the main entry point for the client-side JavaScript application, responsible for initializing core functionalities like routing and theme management, and rendering the initial page layout.\n- Definitions in the File:\n    - Variables:\n        - `appContainer`: A module-level variable referencing the main `div` element with `id=\"app\"` in `index.html`.\n    - Functions:\n        - `renderLayout()`: An internal function that clears the `appContainer`, creates and appends the `Navbar` component, and creates a `main` element with `id=\"main-content\"` to serve as the router's content container.\n- Notable Patterns or Logic: Client-side application bootstrap, DOM manipulation, event listener for `DOMContentLoaded`, initialization of router and theme.\n",
  "client/js/router.js": "- File Path: `client/js/router.js`\n- High-Level Purpose: This file implements a client-side routing mechanism for the single-page application (SPA), mapping URL paths to specific view components and handling navigation.\n- Definitions in the File:\n    - Variables:\n        - `mainContentContainer`: A module-level variable to hold the DOM element where views are rendered.\n        - `routes`: An array of objects, each defining a `path` (string, can include parameters) and its associated `view` component.\n    - Functions:\n        - `pathToRegex(path)`: An internal function that converts a path string (e.g., `/applications/:id`) into a regular expression for matching.\n        - `getParams(match)`: An internal function that extracts path parameters (e.g., `id`) from a route match result.\n        - `navigate(path)`: An exported function that updates the browser's history and triggers `handleRoute` to render the new view.\n        - `handleRoute()`: An exported asynchronous function that determines the current route based on `location.pathname`, finds a matching view, extracts parameters, and calls the view's `render` method. Includes a fallback for 404.\n        - `initializeRouter(container)`: An exported function that sets the `mainContentContainer`, attaches event listeners for `popstate` (browser back/forward) and `click` events on `[data-link]` elements, and performs an initial route handling.\n- Notable Patterns or Logic: Client-side routing, SPA navigation, regular expressions for path matching, event delegation for link clicks, history API usage.\n",
  "client/js/services/applicationService.js": "- File Path: `client/js/services/applicationService.js`\n- High-Level Purpose: This file provides a client-side service for interacting with the backend API to manage job applications, encapsulating authenticated HTTP requests for CRUD operations.\n- Definitions in the File:\n    - Constants:\n        - `API_BASE_URL`: A string constant defining the base URL for the application API endpoints.\n    - Functions:\n        - `handleResponse(response)`: An internal asynchronous function that processes an HTTP response. It checks for `204 No Content` status, parses JSON data, and throws an error if the response is not `ok`.\n        - `authorizedFetch(url, options = {})`: An internal asynchronous function that wraps the standard `fetch` API. It automatically retrieves the JWT token from `authState` and includes it in the `Authorization` header for authenticated requests. It then calls `handleResponse` to process the response.\n    - Variables:\n        - `ApplicationService`: An exported object containing methods for interacting with the application API.\n            - `getApplications()`: Public method to fetch all job applications for the authenticated user.\n            - `getApplication(id)`: Public method to fetch a single job application by its ID.\n            - `createApplication(appData)`: Public method to send a POST request to create a new job application.\n            - `updateApplication(id, appData)`: Public method to send a PUT request to update an existing job application.\n            - `deleteApplication(id)`: Public method to send a DELETE request to remove a job application.\n- Notable Patterns or Logic: Service layer, API client, asynchronous operations (`fetch`), centralized error handling for API responses, JWT authentication.\n",
  "client/js/services/authService.js": "- File Path: `client/js/services/authService.js`\n- High-Level Purpose: This file provides a client-side service for interacting with the backend authentication API, encapsulating HTTP requests for login and registration.\n- Definitions in the File:\n    - Constants:\n        - `API_BASE_URL`: A string constant defining the base URL for API endpoints.\n    - Functions:\n        - `handleResponse(response)`: An internal asynchronous function that checks if an HTTP response was successful. If not, it parses the error message from the response JSON and throws an error; otherwise, it returns the parsed JSON data.\n    - Variables:\n        - `AuthService`: An exported object containing methods for authentication.\n            - `login(email, password)`: An asynchronous public method that sends a POST request to `/api/auth/login` with user credentials and returns the response data.\n            - `register(username, email, password)`: An asynchronous public method that sends a POST request to `/api/auth/register` with user registration details and returns the response data.\n- Notable Patterns or Logic: Service layer, API client, asynchronous operations (`fetch`), centralized error handling for API responses.",
  "client/js/services/blogService.js": "- File Path: `client/js/services/blogService.js`\n- High-Level Purpose: This file provides a client-side service for interacting with the backend API to manage blog posts, comments, and likes, encapsulating authenticated HTTP requests for these operations.\n- Definitions in the File:\n    - Constants:\n        - `API_BASE_URL`: A string constant defining the base URL for the blog API endpoints.\n    - Functions:\n        - `handleResponse(response)`: An internal asynchronous function that processes an HTTP response. It checks for `204 No Content` status, parses JSON data, and throws an error if the response is not `ok`.\n        - `authorizedFetch(url, options = {})`: An internal asynchronous function that wraps the standard `fetch` API. It automatically retrieves the JWT token from `authState` and includes it in the `Authorization` header for authenticated requests. It then calls `handleResponse` to process the response.\n    - Variables:\n        - `BlogService`: An exported object containing methods for interacting with the blog API.\n            - `getPublicPosts()`: Public method to fetch all public blog posts.\n            - `getPublicPost(username, slug)`: Public method to fetch a single public blog post by username and slug.\n            - `createPost(postData)`: Public method to send a POST request to create a new blog post (requires authentication).\n            - `getComments(postId)`: Public method to fetch comments for a specific blog post.\n            - `addComment(postId, commentData)`: Public method to send a POST request to add a new comment to a post (requires authentication).\n            - `toggleLike(likeData)`: Public method to send a POST request to like or unlike content (requires authentication).\n- Notable Patterns or Logic: Service layer, API client, asynchronous operations (`fetch`), centralized error handling for API responses, JWT authentication.\n",
  "client/js/state/authState.js": "- File Path: `client/js/state/authState.js`\n- High-Level Purpose: This file manages the client-side authentication state, including storing and retrieving the JWT token from local storage, and providing methods to check login status and notify subscribers of state changes.\n- Definitions in the File:\n    - Variables:\n        - `token`: A module-level variable storing the JWT token, initialized from `localStorage`.\n        - `user`: A module-level variable, currently a placeholder for user details.\n        - `subscribers`: A `Set` to hold callback functions that should be notified when the auth state changes.\n    - Functions:\n        - `notify()`: An internal function that iterates through `subscribers` and calls each callback.\n        - `setToken(newToken)`: An exported function that updates the `token` variable, persists it to `localStorage`, and calls `notify()`.\n        - `getToken()`: An exported function that returns the current `token`.\n        - `isLoggedIn()`: An exported function that returns `true` if a token exists, `false` otherwise.\n        - `logout()`: An exported function that clears the token by calling `setToken(null)`.\n        - `subscribe(callback)`: An exported function that adds a callback to the `subscribers` set and returns an unsubscribe function.\n- Notable Patterns or Logic: Simple state management, local storage persistence, publish-subscribe pattern for state changes.\n",
  "client/js/state/themeState.js": "- File Path: `client/js/state/themeState.js`\n- High-Level Purpose: This file manages the application's theme state (light or dark), including persistence to local storage and applying the theme to the document.\n- Definitions in the File:\n    - Variables:\n        - `currentTheme`: A module-level variable storing the current theme, initialized from local storage or defaulting to 'light'.\n    - Functions:\n        - `applyTheme(theme)`: An internal function that adds or removes the 'dark' class from the `document.documentElement` based on the provided theme.\n        - `getTheme()`: An exported function that returns the `currentTheme`.\n        - `toggleTheme()`: An exported function that switches `currentTheme` between 'light' and 'dark', updates local storage, applies the new theme, and returns the new theme.\n        - `initializeTheme()`: An exported function that applies the `currentTheme` when the application starts.\n- Notable Patterns or Logic: Simple state management, local storage persistence, DOM class manipulation.\n",
  "client/js/utils/markdownParser.js": "- File Path: `client/js/utils/markdownParser.js`\n- High-Level Purpose: This file provides a utility function to parse Markdown text into HTML using the `marked.js` library, intended for client-side rendering.\n- Definitions in the File:\n    - Functions:\n        - `parseMarkdown(markdownText)`: An exported function that takes a Markdown string and uses `window.marked.parse` to convert it into HTML. It includes basic configuration for GFM and line breaks. It also includes an error fallback if `marked.js` is not loaded.\n- Notable Patterns or Logic: Utility function, wrapper for an external JavaScript library (`marked.js`), Markdown to HTML conversion.\n",
  "client/js/views/DashboardView.js": "- File Path: `client/js/views/DashboardView.js`\n- High-Level Purpose: This file defines the content and rendering logic for the application's dashboard page view.\n- Definitions in the File:\n    - Variables:\n        - `DashboardView`: An exported object that represents the dashboard page view.\n            - `render(container)`: A method on `DashboardView` that takes a DOM `container` element and populates its `innerHTML` with the static HTML content for the dashboard.\n- Notable Patterns or Logic: View component, static content rendering.\n",
  "client/js/views/HomeView.js": "- File Path: `client/js/views/HomeView.js`\n- High-Level Purpose: This file defines the content and rendering logic for the application's home page view.\n- Definitions in the File:\n    - Variables:\n        - `HomeView`: An exported object that represents the home page view.\n            - `render(container)`: A method on `HomeView` that takes a DOM `container` element and populates its `innerHTML` with the static HTML content for the home page.\n- Notable Patterns or Logic: View component, static content rendering.\n",
  "client/js/views/applications/ApplicationDetailView.js": "- File Path: `client/js/views/applications/ApplicationDetailView.js`\n- High-Level Purpose: This file defines the client-side view component responsible for displaying the detailed information of a single job application.\n- Definitions in the File:\n    - Variables:\n        - `ApplicationDetailView`: An exported object representing the application detail view.\n            - `render(container, params)`: An asynchronous method on `ApplicationDetailView` that takes a DOM `container` element and `params` (containing the application ID). It populates the container with loading text, then fetches the application details using `ApplicationService.getApplication`. If successful, it renders the application's role ID, company ID, status, and formatted date applied, along with an \"Edit\" button and a placeholder for notes. It handles cases where the application is not found or an error occurs during fetching.\n- Notable Patterns or Logic: View component, asynchronous data fetching, dynamic content rendering, client-side navigation.\n",
  "client/js/views/applications/ApplicationFormView.js": "- File Path: `client/js/views/applications/ApplicationFormView.js`\n- High-Level Purpose: This file defines the client-side view component for creating a new job application or editing an existing one, providing an HTML form and handling its submission.\n- Definitions in the File:\n    - Variables:\n        - `ApplicationFormView`: An exported object representing the application form view.\n            - `render(container, params)`: An asynchronous method on `ApplicationFormView` that takes a DOM `container` element and `params` (which may contain an application ID for editing). It dynamically generates an HTML form for application details. If `params.id` is present, it fetches existing application data to pre-fill the form. It attaches an event listener to the form to handle submission, calling `ApplicationService.createApplication` or `updateApplication` and then navigating to the application's detail page or displaying an error message.\n- Notable Patterns or Logic: View component, form handling, asynchronous API calls, client-side navigation, conditional rendering (create vs. edit mode), basic error display.\n",
  "client/js/views/applications/ApplicationListView.js": "- File Path: `client/js/views/applications/ApplicationListView.js`\n- High-Level Purpose: This file defines the client-side view component responsible for displaying a list of job applications for the current user, including a button to add new applications.\n- Definitions in the File:\n    - Variables:\n        - `ApplicationListView`: An exported object representing the application list view.\n            - `render(container)`: An asynchronous method on `ApplicationListView` that takes a DOM `container` element. It populates the container with a title, an \"Add New Application\" button, and a loading message. It then fetches the user's applications using `ApplicationService.getApplications` and renders each one using the `ApplicationCard` component. It handles cases where no applications are found or an error occurs during fetching.\n- Notable Patterns or Logic: View component, asynchronous data fetching, dynamic list rendering, client-side navigation, error handling.\n",
  "client/js/views/auth/LoginView.js": "- File Path: `client/js/views/auth/LoginView.js`\n- High-Level Purpose: This file defines the client-side view component for user login, including the HTML form and the logic to handle form submission and interact with the authentication service.\n- Definitions in the File:\n    - Variables:\n        - `LoginView`: An exported object representing the login view.\n            - `render(container)`: A method on `LoginView` that takes a DOM `container` element, populates its `innerHTML` with the login form, and attaches an event listener to handle form submission. On submission, it calls `AuthService.login`, sets the received JWT token via `setToken`, redirects to `/dashboard` on success, or displays an error message.\n- Notable Patterns or Logic: View component, form handling, asynchronous API calls, client-side navigation, state update (setToken), error display.\n",
  "client/js/views/auth/RegisterView.js": "- File Path: `client/js/views/auth/RegisterView.js`\n- High-Level Purpose: This file defines the client-side view component for user registration, including the HTML form and the logic to handle form submission and interact with the authentication service.\n- Definitions in the File:\n    - Variables:\n        - `RegisterView`: An exported object representing the registration view.\n            - `render(container)`: A method on `RegisterView` that takes a DOM `container` element, populates its `innerHTML` with the registration form, and attaches an event listener to handle form submission. On submission, it calls `AuthService.register`, redirects to `/login` on success, or displays an error message.\n- Notable Patterns or Logic: View component, form handling, asynchronous API calls, client-side navigation, error display.\n",
  "client/js/views/blog/BlogListView.js": "- File Path: `client/js/views/blog/BlogListView.js`\n- High-Level Purpose: This file defines the client-side view component responsible for displaying a list of public blog posts, including a button to create new posts if the user is logged in.\n- Definitions in the File:\n    - Variables:\n        - `BlogListView`: An exported object representing the blog list view.\n            - `render(container)`: An asynchronous method on `BlogListView` that takes a DOM `container` element. It dynamically renders a title and, if the user is logged in, a \"Create New Post\" button. It then fetches public blog posts using `BlogService.getPublicPosts` and renders each one using the `BlogPostCard` component. It handles cases where no posts are found or an error occurs during fetching.\n- Notable Patterns or Logic: View component, asynchronous data fetching, dynamic list rendering, client-side navigation, conditional rendering based on authentication status.\n",
  "client/js/views/blog/BlogPostDetailView.js": "- File Path: `client/js/views/blog/BlogPostDetailView.js`\n- High-Level Purpose: This file defines the client-side view component responsible for displaying the detailed content of a single blog post, including its title, author, content, and sections for comments and liking functionality.\n- Definitions in the File:\n    - Functions:\n        - `renderComments(comments, postId, onCommentAdded)`: An internal function that takes a list of comments, a post ID, and a callback, then renders them into a container using the `CommentItem` component.\n    - Variables:\n        - `BlogPostDetailView`: An exported object representing the blog post detail view.\n            - `render(container, params)`: An asynchronous method on `BlogPostDetailView` that takes a DOM `container` element and `params` (containing `username` and `slug`). It fetches the blog post and its comments using `BlogService`. It dynamically renders the post's title, author, date, and HTML content. It includes a \"Like Post\" button and a comments section with a form for new comments (if the user is logged in). It attaches event listeners for comment submission and like toggling, updating the UI accordingly. It handles loading states and \"post not found\" scenarios.\n- Notable Patterns or Logic: View component, asynchronous data fetching, dynamic content rendering, client-side navigation, form handling, event delegation for like buttons, conditional rendering based on authentication status, real-time UI updates for comments and likes.\n",
  "client/js/views/blog/BlogPostEditorView.js": "- File Path: `client/js/views/blog/BlogPostEditorView.js`\n- High-Level Purpose: This file defines the client-side view component for creating new blog posts, providing a Markdown editor with a live preview and handling post submission (as draft or public).\n- Definitions in the File:\n    - Variables:\n        - `autosaveTimeout`: A module-level variable used to manage the autosave timer.\n        - `BlogPostEditorView`: An exported object representing the blog post editor view.\n            - `render(container, params)`: An asynchronous method on `BlogPostEditorView` that takes a DOM `container` element and `params`. It populates the container with an HTML form for title, Markdown content, and a public checkbox. It sets up event listeners for live Markdown preview, a placeholder autosave mechanism, and form submission (for publishing or saving as draft). It calls `BlogService.createPost` and navigates on success.\n- Notable Patterns or Logic: View component, form handling, Markdown editor with live preview, client-side navigation, asynchronous API calls, basic autosave placeholder, conditional submission (public vs. draft).\n",
  "cmd/server/main.go": "- File Path: `cmd/server/main.go`\n- High-Level Purpose: This is the main entry point for the Go backend application. It initializes the database connection, runs migrations, sets up repositories and use cases, configures the HTTP router, and starts the web server.\n- Definitions in the File:\n    - Functions:\n        - `main()`: The application's entry point. It loads environment variables, ensures `DATABASE_URL` is set, calls `runMigrations`, connects to the PostgreSQL database using `sqlx`, initializes all concrete repository implementations (user, company, role, application, blog, comment, like), creates use case services with their respective repository dependencies, sets up the Echo router using `handler.NewRouter`, and starts the HTTP server on the configured port (defaulting to 8080).\n        - `runMigrations(databaseURL string)`: An internal function that applies database migrations located in the `migrations` directory using the `golang-migrate` library. It logs the migration status, handling cases where no new migrations are found or an error occurs.\n- Notable Patterns or Logic: Application bootstrap, dependency injection (manual wiring), environment variable loading, database migration, HTTP server initialization, error handling.\n",
  "go.mod": "- File Path: `go.mod`\n- High-Level Purpose: This file defines the Go module for the `job-app-tracker` project and lists all its direct and indirect external dependencies.\n- Definitions in the File:\n    - Module: `job-app-tracker`\n    - Go Version: `1.21`\n    - Direct Dependencies:\n        - `github.com/golang-jwt/jwt/v5`: For JSON Web Token handling.\n        - `github.com/golang-migrate/migrate/v4`: For database migrations.\n        - `github.com/jackc/pgx/v5`: PostgreSQL driver.\n        - `github.com/jmoiron/sqlx`: SQL extensions for Go.\n        - `github.com/joho/godotenv`: For loading environment variables from `.env` files.\n        - `github.com/labstack/echo/v4`: Web framework.\n        - `golang.org/x/crypto`: Cryptographic utilities, including bcrypt.\n- Notable Patterns or Logic: Go module definition, dependency management.\n",
  "internal/domain/application.go": "- File Path: `internal/domain/application.go`\n- High-Level Purpose: This file defines the core data structures (models) for job applications, companies, roles, and associated notes within the application's domain.\n- Definitions in the File:\n    - Structs:\n        - `Company`: Represents a company with `ID`, `Name`, `NormalizedName`, and `Metadata` (raw JSON).\n        - `Role`: Represents a job role with `ID`, `CompanyID`, `Title`, and `Metadata` (raw JSON).\n        - `Application`: Represents a job application with `ID`, `UserID`, `CompanyID`, `RoleID`, `DateApplied`, `Status`, `Metadata` (raw JSON), and `CurrentNoteID` (nullable).\n        - `ApplicationNote`: Represents a note associated with an application, including `ID`, `ApplicationID`, `UserID`, `Timestamp`, and `Content`.\n- Notable Patterns or Logic: Domain model definition, use of `json.RawMessage` for flexible JSON storage, `sql.NullInt64` for nullable database fields.\n",
  "internal/domain/blog.go": "- File Path: `internal/domain/blog.go`\n- High-Level Purpose: This file defines the core data structures (models) for blog posts and their draft versions within the application's domain.\n- Definitions in the File:\n    - Structs:\n        - `BlogPost`: Represents a published blog post with fields like `ID`, `UserID`, `Title`, `Slug`, `ContentMD` (Markdown), `ContentHTML`, `Excerpt`, `IsPublic`, timestamps, SEO metadata, `Tags` (PostgreSQL array), and `Username` (for joining).\n        - `DraftVersion`: Represents a draft version of a blog post, including `ID`, `PostID` (nullable for new drafts), `UserID`, `ContentMD`, `ContentHTML`, `LastSavedAt`, and `IsPublishedVersion`.\n- Notable Patterns or Logic: Domain model definition, use of `sql.NullString` for nullable database fields, `pq.StringArray` for PostgreSQL array types, `db` and `json` struct tags for ORM and serialization.\n",
  "internal/domain/social.go": "- File Path: `internal/domain/social.go`\n- High-Level Purpose: This file defines the core data structures (models) for social features like comments, likes, and follows within the application's domain.\n- Definitions in the File:\n    - Constants:\n        - `ContentTypePost`: A `ContentType` value indicating a blog post.\n        - `ContentTypeComment`: A `ContentType` value indicating a comment.\n    - Types:\n        - `ContentType`: A string type used as an enum to categorize content (e.g., \"post\", \"comment\").\n    - Structs:\n        - `Comment`: Represents a user comment with fields for `ID`, `PostID`, `UserID`, `ParentCommentID` (nullable for replies), `ContentMD` (Markdown), `ContentHTML`, `CreatedAt`, `UpdatedAt`, `DepthLevel`, `Username` (populated via JOIN), and `Replies` (for nested structure).\n        - `Like`: Represents a user's like on a piece of content, including `ID`, `UserID`, `ContentType`, `ContentID`, and `CreatedAt`.\n        - `Follow`: Represents a user following another user, with `ID`, `FollowerUserID`, `FolloweeUserID`, and `CreatedAt`.\n- Notable Patterns or Logic: Domain model definition, use of `sql.NullInt64` and `sql.NullString` for nullable database fields, `db` and `json` struct tags for ORM and serialization, enum-like type for `ContentType`.\n",
  "internal/domain/user.go": "- File Path: `internal/domain/user.go`\n- High-Level Purpose: This file defines the core data structure (model) for a user within the application's domain, representing how user information is stored and accessed.\n- Definitions in the File:\n    - Structs:\n        - `User`: Represents a user with the following fields:\n            - `ID`: `int64`, unique identifier.\n            - `Username`: `string`, user's chosen username.\n            - `Email`: `string`, user's email address.\n            - `HashedPassword`: `string`, the bcrypt hashed password.\n            - `Bio`: `sql.NullString`, optional user biography.\n            - `AvatarURL`: `sql.NullString`, optional URL to user's avatar image.\n            - `Settings`: `json.RawMessage`, flexible JSON storage for user settings.\n            - `CreatedAt`: `time.Time`, timestamp of user creation.\n            - `UpdatedAt`: `time.Time`, timestamp of last update.\n- Notable Patterns or Logic: Domain model definition, use of `sql.NullString` for nullable database fields, `json.RawMessage` for flexible JSON storage.\n",
  "internal/handler/application_handler.go": "- File Path: `internal/handler/application_handler.go`\n- High-Level Purpose: This file defines HTTP handlers for job application-related API endpoints (create, retrieve, update, delete) using the Echo web framework, interacting with the application's use case layer.\n- Definitions in the File:\n    - Structs:\n        - `ApplicationHandler`: An internal struct that holds a dependency on `usecase.ApplicationUseCase` to perform business logic.\n        - `createApplicationRequest`: An internal struct defining the expected JSON payload structure for creating or updating a job application, including `CompanyName`, `RoleTitle`, `Status`, and `DateApplied`.\n    - Functions:\n        - `NewApplicationHandler(uc usecase.ApplicationUseCase)`: An exported constructor function that creates and returns a new `ApplicationHandler` instance.\n    - Methods:\n        - `CreateApplication(c echo.Context)`: A public method on `ApplicationHandler` that handles POST requests to `/api/applications`. It binds the request body, extracts the `userID` from the context, calls `appUseCase.CreateApplication`, and returns the created application or an error.\n        - `GetApplications(c echo.Context)`: A public method on `ApplicationHandler` that handles GET requests to `/api/applications`. It retrieves the `userID` from the context, calls `appUseCase.GetApplications`, and returns a list of applications or an error.\n        - `GetApplicationByID(c echo.Context)`: A public method on `ApplicationHandler` that handles GET requests to `/api/applications/:id`. It parses the application ID from the path, retrieves the `userID` from the context, calls `appUseCase.GetApplicationByID`, and returns the specific application or a \"not found\" error.\n        - `UpdateApplication(c echo.Context)`: A public method on `ApplicationHandler` that handles PUT requests to `/api/applications/:id`. It parses the application ID, binds the request body, retrieves the `userID`, calls `appUseCase.UpdateApplication`, and returns the updated application or an error.\n        - `DeleteApplication(c echo.Context)`: A public method on `ApplicationHandler` that handles DELETE requests to `/api/applications/:id`. It parses the application ID, retrieves the `userID`, calls `appUseCase.DeleteApplication`, and returns a `204 No Content` status on success.\n- Notable Patterns or Logic: HTTP handler, request binding, path parameter parsing, calling use case layer, error handling, JSON response.\n",
  "internal/handler/auth_handler.go": "- File Path: `internal/handler/auth_handler.go`\n- High-Level Purpose: This file defines HTTP handlers for user authentication endpoints (registration and login) using the Echo web framework.\n- Definitions in the File:\n    - Structs:\n        - `AuthHandler`: An internal struct that holds a `usecase.UserUseCase` dependency.\n        - `RegisterRequest`: An internal struct defining the expected JSON payload for user registration (Username, Email, Password).\n        - `LoginRequest`: An internal struct defining the expected JSON payload for user login (Email, Password).\n    - Functions:\n        - `NewAuthHandler(uc usecase.UserUseCase)`: An exported constructor function that creates and returns a new `AuthHandler` instance.\n    - Methods:\n        - `Register(c echo.Context)`: A public method on `AuthHandler` that handles POST requests to `/api/auth/register`. It binds the request body to `RegisterRequest`, calls the `userUseCase.Register` method, and returns a JSON response with the created user (without password) or an error.\n        - `Login(c echo.Context)`: A public method on `AuthHandler` that handles POST requests to `/api/auth/login`. It binds the request body to `LoginRequest`, calls the `userUseCase.Login` method, and returns a JSON response with the JWT token on success or an error.\n- Notable Patterns or Logic: HTTP handler, request binding, calling use case layer, error handling, JSON response.\n",
  "internal/handler/blog_handler.go": "- File Path: `internal/handler/blog_handler.go`\n- High-Level Purpose: This file defines HTTP handlers for blog-related API endpoints (create post, get posts, add comments, toggle likes) using the Echo web framework, interacting with the blog use case layer.\n- Definitions in the File:\n    - Structs:\n        - `BlogHandler`: An internal struct that holds a dependency on `usecase.BlogUseCase` to perform business logic.\n        - `createPostRequest`: An internal struct defining the expected JSON payload for creating a blog post, including `Title`, `ContentMD`, and `IsPublic`.\n        - `addCommentRequest`: An internal struct defining the expected JSON payload for adding a comment, including `ContentMD` and an optional `ParentCommentID`.\n        - `toggleLikeRequest`: An internal struct defining the expected JSON payload for toggling a like, including `ContentType` and `ContentID`.\n    - Functions:\n        - `NewBlogHandler(uc usecase.BlogUseCase)`: An exported constructor function that creates and returns a new `BlogHandler` instance.\n    - Methods:\n        - `CreatePost(c echo.Context)`: A public method on `BlogHandler` that handles POST requests to `/api/blog/posts`. It extracts the `userID` from the context, binds the request body, converts Markdown content to HTML using `blackfriday.v2`, calls `blogUseCase.CreatePost`, and returns the created post or an error.\n        - `GetPublicPost(c echo.Context)`: A public method on `BlogHandler` that handles GET requests to `/api/blog/posts/:username/:slug`. It extracts `username` and `slug` from path parameters, calls `blogUseCase.GetPublicPost`, and returns the post or a \"not found\" error.\n        - `GetPublicPosts(c echo.Context)`: A public method on `BlogHandler` that handles GET requests to `/api/blog/posts`. It calls `blogUseCase.GetPublicPosts` and returns a list of public posts or an error.\n        - `AddComment(c echo.Context)`: A public method on `BlogHandler` that handles POST requests to `/api/blog/posts/:postID/comments`. It extracts `userID` and `postID`, binds the request body, converts Markdown to HTML, calls `blogUseCase.AddComment`, and returns the created comment (including the username from context) or an error.\n        - `GetCommentsForPost(c echo.Context)`: A public method on `BlogHandler` that handles GET requests to `/api/blog/posts/:postID/comments`. It extracts `postID`, calls `blogUseCase.GetCommentsForPost`, and returns a list of comments or an error.\n        - `ToggleLike(c echo.Context)`: A public method on `BlogHandler` that handles POST requests to `/api/blog/like`. It extracts `userID`, binds the request body, validates the `ContentType`, calls `blogUseCase.ToggleLike`, and returns the new like status or an error.\n- Notable Patterns or Logic: HTTP handler, request binding, path parameter parsing, calling use case layer, error handling, JSON response, server-side Markdown to HTML conversion.\n",
  "internal/handler/middleware.go": "- File Path: `internal/handler/middleware.go`\n- High-Level Purpose: This file defines an authentication middleware for the Echo web framework, responsible for validating JWT tokens from incoming requests and setting user information in the request context.\n- Definitions in the File:\n    - Functions:\n        - `AuthMiddleware(next echo.HandlerFunc)`: An exported middleware function that checks for an `Authorization` header, validates the Bearer token using `util.ValidateJWT`, and if valid, sets `userID` and `username` in the Echo context before calling the next handler. It returns `401 Unauthorized` for invalid or missing tokens.\n- Notable Patterns or Logic: Echo middleware, JWT validation, request context manipulation, authentication.\n",
  "internal/handler/router.go": "- File Path: `internal/handler/router.go`\n- High-Level Purpose: This file configures and initializes the Echo web server, setting up middleware, serving static frontend files, and defining all API routes for authentication, applications, and blog posts.\n- Definitions in the File:\n    - Functions:\n        - `NewRouter(userUC usecase.UserUseCase, appUC usecase.ApplicationUseCase, blogUC usecase.BlogUseCase)`: An exported function that creates and configures a new Echo router. It applies logging and recovery middleware, serves static files from the `client` directory, initializes `AuthHandler`, `ApplicationHandler`, and `BlogHandler` with their respective use cases. It then defines API routes, including public authentication routes, authenticated application routes (using `AuthMiddleware`), and both public and authenticated blog routes. It also implements a Single Page Application (SPA) fallback to serve `index.html` for unmatched GET requests that are not API calls.\n- Notable Patterns or Logic: HTTP routing, dependency injection (for use cases), middleware (logging, recovery, custom authentication), static file serving, API grouping, SPA fallback.\n",
  "internal/repository/interfaces.go": "- File Path: `internal/repository/interfaces.go`\n- High-Level Purpose: This file defines Go interfaces for the application's repository layer, outlining the contracts for data access operations for various domain entities like users, applications, blog posts, comments, and likes.\n- Definitions in the File:\n    - Interfaces:\n        - `UserRepository`: Defines methods for creating, retrieving by email, username, or ID for user data.\n        - `CompanyRepository`: Defines a method for finding or creating company records.\n        - `RoleRepository`: Defines a method for finding or creating role records.\n        - `ApplicationRepository`: Defines methods for CRUD operations on job application data.\n        - `ApplicationNoteRepository`: Defines methods for creating and retrieving application notes.\n        - `BlogPostRepository`: Defines methods for creating, retrieving by slug/user, getting all public posts, and checking slug uniqueness for blog posts.\n        - `CommentRepository`: Defines methods for creating, retrieving by ID, and getting all comments for a post.\n        - `LikeRepository`: Defines methods for creating, deleting, and retrieving likes.\n- Notable Patterns or Logic: Repository pattern, interface-driven design, data access contracts.\n",
  "internal/repository/postgres/application_repository.go": "- File Path: `internal/repository/postgres/application_repository.go`\n- High-Level Purpose: This file provides PostgreSQL-specific implementations for various repositories related to job applications, including companies, roles, applications, and application notes, handling their respective database persistence operations.\n- Definitions in the File:\n    - Structs:\n        - `postgresApplicationRepository`: An internal struct holding a `*sqlx.DB` instance, used for company-related database operations.\n        - `postgresRoleRepository`: An internal struct holding a `*sqlx.DB` instance, used for role-related database operations.\n        - `postgresAppRepo`: An internal struct holding a `*sqlx.DB` instance, used for job application-related database operations.\n        - `postgresAppNoteRepository`: An internal struct holding a `*sqlx.DB` instance, used for application note-related database operations.\n    - Functions:\n        - `NewPostgresApplicationRepository(db *sqlx.DB)`: An exported constructor that returns a new `postgresApplicationRepository` instance.\n        - `NewPostgresRoleRepository(db *sqlx.DB)`: An exported constructor that returns a new `postgresRoleRepository` instance.\n        - `NewPostgresAppRepository(db *sqlx.DB)`: An exported constructor that returns a new `postgresAppRepo` instance.\n        - `NewPostgresAppNoteRepository(db *sqlx.DB)`: An exported constructor that returns a new `postgresAppNoteRepository` instance.\n    - Methods:\n        - `FindOrCreate(company *domain.Company)`: A public method on `postgresApplicationRepository` that inserts a new company into the `companies` table or retrieves the ID of an existing one based on its normalized name.\n        - `FindOrCreate(role *domain.Role)`: A public method on `postgresRoleRepository` that inserts a new role into the `roles` table or retrieves the ID of an existing one based on its company ID and title.\n        - `Create(app *domain.Application)`: A public method on `postgresAppRepo` that inserts a new job application into the `applications` table and populates its ID, `CreatedAt`, and `UpdatedAt` fields.\n        - `GetByID(id int64, userID int64)`: A public method on `postgresAppRepo` that retrieves a specific job application by its ID and associated user ID. Returns `nil, nil` if not found.\n        - `GetAllForUser(userID int64)`: A public method on `postgresAppRepo` that retrieves all job applications belonging to a specific user.\n        - `Update(app *domain.Application)`: A public method on `postgresAppRepo` that updates an existing job application's details.\n        - `Delete(id int64, userID int64)`: A public method on `postgresAppRepo` that deletes a job application by its ID and associated user ID.\n        - `Create(note *domain.ApplicationNote)`: A public method on `postgresAppNoteRepository` that inserts a new application note.\n        - `GetAllForApplication(appID int64, userID int64)`: A public method on `postgresAppNoteRepository` that retrieves all notes for a given application, ensuring the notes belong to an application owned by the specified user.\n- Notable Patterns or Logic: Repository pattern implementation, PostgreSQL interaction using `sqlx`, \"find or create\" logic for related entities, handling `sql.ErrNoRows` for \"not found\" scenarios.\n",
  "internal/repository/postgres/blog_repository.go": "- File Path: `internal/repository/postgres/blog_repository.go`\n- High-Level Purpose: This file provides a PostgreSQL-specific implementation of the `BlogPostRepository` interface, handling database persistence operations for blog posts.\n- Definitions in the File:\n    - Structs:\n        - `postgresBlogPostRepository`: An internal struct that holds a `*sqlx.DB` instance for database interaction.\n    - Functions:\n        - `NewPostgresBlogPostRepository(db *sqlx.DB)`: An exported constructor function that returns a new `repository.BlogPostRepository` instance backed by PostgreSQL.\n    - Methods:\n        - `Create(post *domain.BlogPost)`: A public method on `postgresBlogPostRepository` that inserts a new blog post into the `blog_posts` table and populates its ID, `CreatedAt`, and `UpdatedAt` fields.\n        - `GetBySlugAndUser(slug string, username string)`: A public method that retrieves a specific blog post by its slug and the author's username, performing a JOIN with the `users` table. Returns `nil, nil` if not found.\n        - `GetAllPublic()`: A public method that retrieves all public blog posts, joining with the `users` table to include the username, ordered by creation date.\n        - `IsSlugTaken(slug string, userID int64)`: A public method that checks if a given slug is already in use by a blog post belonging to a specific user.\n- Notable Patterns or Logic: Repository pattern implementation, PostgreSQL interaction using `sqlx`, handling `sql.ErrNoRows` for \"not found\" scenarios, SQL JOINs.\n",
  "internal/repository/postgres/social_repository.go": "- File Path: `internal/repository/postgres/social_repository.go`\n- High-Level Purpose: This file provides PostgreSQL-specific implementations for the `CommentRepository` and `LikeRepository` interfaces, handling database persistence for comments and likes.\n- Definitions in the File:\n    - Structs:\n        - `postgresCommentRepository`: An internal struct holding a `*sqlx.DB` instance for comment-related database operations.\n        - `postgresLikeRepository`: An internal struct holding a `*sqlx.DB` instance for like-related database operations.\n    - Functions:\n        - `NewPostgresCommentRepository(db *sqlx.DB)`: An exported constructor function that returns a new `repository.CommentRepository` instance backed by PostgreSQL.\n        - `NewPostgresLikeRepository(db *sqlx.DB)`: An exported constructor function that returns a new `repository.LikeRepository` instance backed by PostgreSQL.\n    - Methods:\n        - `Create(comment *domain.Comment)`: A public method on `postgresCommentRepository` that inserts a new comment into the `comments` table and populates its ID, `CreatedAt`, and `UpdatedAt` fields.\n        - `GetByID(id int64)`: A public method on `postgresCommentRepository` that queries the `comments` table to find a comment by its ID. Returns `nil, nil` if no comment is found.\n        - `GetForPost(postID int64)`: A public method on `postgresCommentRepository` that retrieves all comments for a specific post, performing a JOIN with the `users` table to include the username.\n        - `Create(like *domain.Like)`: A public method on `postgresLikeRepository` that inserts a new like into the `likes` table and populates its ID and `CreatedAt`.\n        - `Delete(userID int64, contentType domain.ContentType, contentID int64)`: A public method on `postgresLikeRepository` that deletes a like from the `likes` table based on the user, content type, and content ID.\n        - `Get(userID int64, contentType domain.ContentType, contentID int64)`: A public method on `postgresLikeRepository` that retrieves a specific like based on the user, content type, and content ID. Returns `nil, nil` if no like is found.\n- Notable Patterns or Logic: Repository pattern implementation, PostgreSQL interaction using `sqlx`, handling `sql.ErrNoRows` for \"not found\" scenarios, SQL JOINs.\n",
  "internal/repository/postgres/user_repository.go": "- File Path: `internal/repository/postgres/user_repository.go`\n- High-Level Purpose: This file provides a PostgreSQL-specific implementation of the `UserRepository` interface, handling database operations for user data.\n- Definitions in the File:\n    - Structs:\n        - `postgresUserRepository`: An internal struct that holds a `*sqlx.DB` instance for database interaction.\n    - Functions:\n        - `NewPostgresUserRepository(db *sqlx.DB)`: An exported constructor function that returns a new `repository.UserRepository` instance backed by PostgreSQL.\n    - Methods:\n        - `Create(user *domain.User)`: A public method on `postgresUserRepository` that inserts a new user into the `users` table and populates the user's `ID`, `CreatedAt`, and `UpdatedAt` fields.\n        - `GetByEmail(email string)`: A public method on `postgresUserRepository` that queries the `users` table to find a user by their email. Returns `nil, nil` if no user is found (not an error).\n        - `GetByUsername(username string)`: A public method on `postgresUserRepository` that queries the `users` table to find a user by their username. Returns `nil, nil` if no user is found.\n        - `GetByID(id int64)`: A public method on `postgresUserRepository` that queries the `users` table to find a user by their ID. Returns `nil, nil` if no user is found.\n- Notable Patterns or Logic: Repository pattern implementation, PostgreSQL interaction using `sqlx`, handling `sql.ErrNoRows` for \"not found\" scenarios.\n",
  "internal/usecase/application_service.go": "- File Path: `internal/usecase/application_service.go`\n- High-Level Purpose: This file implements the business logic for managing job applications, acting as the use case layer that orchestrates interactions between the domain and repository layers.\n- Definitions in the File:\n    - Structs:\n        - `applicationService`: An internal struct that holds dependencies for `ApplicationRepository`, `CompanyRepository`, and `RoleRepository`.\n    - Functions:\n        - `NewApplicationService(appRepo repository.ApplicationRepository, companyRepo repository.CompanyRepository, roleRepo repository.RoleRepository)`: An exported constructor function that creates and returns a new `ApplicationUseCase` instance.\n    - Methods:\n        - `CreateApplication(userID int64, companyName, roleTitle, status, dateAppliedStr string)`: A public method that handles the creation of a new job application. It first ensures the company and role exist (creating them if necessary), parses the application date, and then persists the application via the `appRepo`.\n        - `GetApplications(userID int64)`: A public method that retrieves all job applications for a specified user.\n        - `GetApplicationByID(id, userID int64)`: A public method that retrieves a specific job application by its ID for a specified user.\n        - `UpdateApplication(id, userID int64, companyName, roleTitle, status, dateAppliedStr string)`: A public method that handles updating an existing job application. It retrieves the application, ensures the company and role exist, updates the application's fields, and then persists the changes.\n        - `DeleteApplication(id, userID int64)`: A public method that handles the deletion of a job application by its ID for a specified user.\n- Notable Patterns or Logic: Use case/service layer, dependency injection, business logic orchestration, date string parsing, error handling.\n",
  "internal/usecase/blog_service.go": "- File Path: `internal/usecase/blog_service.go`\n- High-Level Purpose: This file implements the business logic for blog-related operations, including creating posts, retrieving posts, adding comments, and toggling likes, acting as the use case layer that orchestrates interactions between the domain and repository layers.\n- Definitions in the File:\n    - Constants:\n        - `MaxCommentDepth`: An integer constant defining the maximum allowed nesting level for comments.\n    - Structs:\n        - `blogService`: An internal struct that holds dependencies for `BlogPostRepository`, `CommentRepository`, and `LikeRepository`.\n    - Functions:\n        - `NewBlogService(blogRepo repository.BlogPostRepository, commentRepo repository.CommentRepository, likeRepo repository.LikeRepository)`: An exported constructor function that creates and returns a new `BlogUseCase` instance.\n    - Methods:\n        - `CreatePost(userID int64, title, contentMd, contentHtml string, isPublic bool)`: A public method on `blogService` that handles creating a new blog post. It generates a unique URL-friendly slug, creates a short excerpt, and then persists the post via the `blogRepo`.\n        - `GetPublicPost(username, slug string)`: A public method on `blogService` that retrieves a public blog post by the author's username and the post's slug. It returns `nil, nil` if the post is not found or is not public.\n        - `GetPublicPosts()`: A public method on `blogService` that retrieves all public blog posts.\n        - `AddComment(postID, userID int64, parentCommentID *int64, contentMd, contentHtml string)`: A public method on `blogService` that handles adding a new comment to a post. It validates the parent comment (if provided) and its depth level, then persists the comment via the `commentRepo`.\n        - `GetCommentsForPost(postID int64)`: A public method on `blogService` that retrieves all comments for a given post and then reconstructs them into a nested (threaded) structure based on `ParentCommentID`.\n        - `ToggleLike(userID int64, contentType domain.ContentType, contentID int64)`: A public method on `blogService` that handles liking or unliking a piece of content (post or comment). It checks if a like already exists and either creates a new like or deletes the existing one via the `likeRepo`.\n- Notable Patterns or Logic: Use case/service layer, dependency injection, business validation (slug uniqueness, comment depth), string manipulation (slugification, excerpt generation), comment threading logic, error handling.\n",
  "internal/usecase/interfaces.go": "- File Path: `internal/usecase/interfaces.go`\n- High-Level Purpose: This file defines Go interfaces for the application's use case layer, outlining the contracts for user, application, and blog-related business logic.\n- Definitions in the File:\n    - Interfaces:\n        - `UserUseCase`: Defines methods for user registration (`Register`) and login (`Login`).\n        - `ApplicationUseCase`: Defines methods for CRUD operations on job applications (`CreateApplication`, `GetApplications`, `GetApplicationByID`, `UpdateApplication`, `DeleteApplication`).\n        - `BlogUseCase`: Defines methods for managing blog posts (`CreatePost`, `GetPublicPost`, `GetPublicPosts`), comments (`AddComment`, `GetCommentsForPost`), and social interactions (`ToggleLike`).\n- Notable Patterns or Logic: Interface-driven design, use case layer contracts, dependency inversion principle.\n",
  "internal/usecase/user_service.go": "- File Path: `internal/usecase/user_service.go`\n- High-Level Purpose: This file implements the business logic for user-related operations such as registration and login, acting as a use case layer.\n- Definitions in the File:\n    - Structs:\n        - `userService`: An internal struct that holds a `repository.UserRepository` dependency.\n    - Functions:\n        - `NewUserService(userRepo repository.UserRepository)`: An exported constructor function that creates and returns a new `UserUseCase` instance.\n    - Methods:\n        - `Register(username, email, password string)`: A public method on `userService` that handles user registration. It performs basic validation, checks for existing users by email and username, hashes the password, and then creates the user via the `UserRepository`.\n        - `Login(email, password string)`: A public method on `userService` that handles user login. It retrieves the user by email, checks the password hash, and if successful, generates and returns a JWT token.\n- Notable Patterns or Logic: Use case/service layer, dependency injection, business validation, password hashing/checking, JWT generation.\n",
  "migrations/000001_create_users_table.up.sql": "- File Path: `migrations/000001_create_users_table.up.sql`\n- High-Level Purpose: This SQL migration script creates the `users` table in the database, defining its schema and constraints.\n- Definitions in the File:\n    - SQL Table:\n        - `users`: A table with the following columns:\n            - `id`: `BIGSERIAL` (auto-incrementing primary key).\n            - `username`: `VARCHAR(50)`, unique and not null.\n            - `email`: `VARCHAR(255)`, unique and not null.\n            - `hashed_password`: `VARCHAR(255)`, not null.\n            - `bio`: `TEXT` (nullable).\n            - `avatar_url`: `VARCHAR(255)` (nullable).\n            - `settings`: `JSONB` (nullable, for flexible JSON data).\n            - `created_at`: `TIMESTAMPTZ`, not null, defaults to current timestamp.\n            - `updated_at`: `TIMESTAMPTZ`, not null, defaults to current timestamp.\n- Notable Patterns or Logic: Database migration script, SQL DDL (Data Definition Language).\n",
  "migrations/000002_create_application_tables.up.sql": "- File Path: `migrations/000002_create_application_tables.up.sql`\n- High-Level Purpose: This SQL migration script creates the database tables necessary for managing job applications, including `companies`, `roles`, `applications`, and `application_notes`, along with their respective columns, constraints, and indexes.\n- Definitions in the File:\n    - SQL Tables:\n        - `companies`: Stores company information with `id` (PK), `name`, `normalized_name` (unique), and `metadata` (JSONB).\n        - `roles`: Stores job role information with `id` (PK), `company_id` (FK to companies), `title`, and `metadata` (JSONB), with a unique constraint on `company_id` and `title`.\n        - `applications`: Stores job application details with `id` (PK), `user_id` (FK to users), `company_id` (FK to companies), `role_id` (FK to roles), `date_applied`, `status`, `metadata` (JSONB), `created_at`, and `updated_at`.\n        - `application_notes`: Stores notes related to applications with `id` (PK), `application_id` (FK to applications), `user_id` (FK to users), `content`, and `created_at`.\n    - SQL Indexes:\n        - `idx_applications_user_id`: Index on `applications.user_id`.\n        - `idx_applications_status`: Index on `applications.status`.\n        - `idx_application_notes_application_id`: Index on `application_notes.application_id`.\n- Notable Patterns or Logic: Database migration script, SQL DDL (Data Definition Language), foreign key constraints, unique constraints, indexing.\n",
  "migrations/000003_create_blog_tables.up.sql": "- File Path: `migrations/000003_create_blog_tables.up.sql`\n- High-Level Purpose: This SQL migration script creates the database table for `blog_posts`, defining its schema, constraints, and indexes.\n- Definitions in the File:\n    - SQL Tables:\n        - `blog_posts`: A table with the following columns:\n            - `id`: `BIGSERIAL` (auto-incrementing primary key).\n            - `user_id`: `BIGINT` (foreign key to `users` table, cascades on delete).\n            - `title`: `VARCHAR(255)`, not null.\n            - `slug`: `VARCHAR(255)`, not null.\n            - `content_md`: `TEXT`, not null (Markdown content).\n            - `content_html`: `TEXT`, not null (HTML content, assumed sanitized).\n            - `excerpt`: `TEXT` (nullable, short summary).\n            - `is_public`: `BOOLEAN`, not null, defaults to `FALSE` (draft status).\n            - `seo_meta_title`: `VARCHAR(255)` (nullable).\n            - `seo_meta_description`: `VARCHAR(255)` (nullable).\n            - `tags`: `TEXT[]` (PostgreSQL array type, nullable).\n            - `created_at`: `TIMESTAMPTZ`, not null, defaults to current timestamp.\n            - `updated_at`: `TIMESTAMPTZ`, not null, defaults to current timestamp.\n            - `UNIQUE(user_id, slug)`: Ensures a user cannot have two posts with the same slug.\n    - SQL Indexes:\n        - `idx_blog_posts_user_id`: Index on `blog_posts.user_id` for efficient lookup by user.\n        - `idx_blog_posts_slug`: Index on `blog_posts.slug` for efficient lookup by slug.\n        - `idx_blog_posts_is_public`: Index on `blog_posts.is_public` for efficient filtering of public posts.\n- Notable Patterns or Logic: Database migration script, SQL DDL (Data Definition Language), foreign key constraints, unique constraints, indexing for performance.",
  "migrations/000004_create_social_tables.up.sql": "- File Path: `migrations/000004_create_social_tables.up.sql`\n- High-Level Purpose: This SQL migration script creates the database tables for social features: `comments`, `likes`, and `follows`, defining their schemas, constraints, and indexes.\n- Definitions in the File:\n    - SQL Types:\n        - `content_type`: An ENUM type with possible values `'post'` and `'comment'`, used to categorize content for likes.\n    - SQL Tables:\n        - `comments`: A table for user comments with `id` (BIGSERIAL PK), `post_id` (BIGINT FK to `blog_posts`, cascades on delete), `user_id` (BIGINT FK to `users`, cascades on delete), `parent_comment_id` (BIGINT FK to `comments` for threaded replies, cascades on delete), `content_md` (TEXT, not null), `content_html` (TEXT, not null), `depth_level` (INT, not null, default 0), `created_at` (TIMESTAMPTZ, not null, default NOW()), and `updated_at` (TIMESTAMPTZ, not null, default NOW()).\n        - `likes`: A table for user likes with `id` (BIGSERIAL PK), `user_id` (BIGINT FK to `users`, cascades on delete), `content_type` (using the `content_type` ENUM, not null), `content_id` (BIGINT, not null), and `created_at` (TIMESTAMPTZ, not null, default NOW()). It has a unique constraint on `user_id`, `content_type`, and `content_id`.\n        - `follows`: A table for user follow relationships with `id` (BIGSERIAL PK), `follower_user_id` (BIGINT FK to `users`, cascades on delete), `followee_user_id` (BIGINT FK to `users`, cascades on delete), and `created_at` (TIMESTAMPTZ, not null, default NOW()). It has a unique constraint on `follower_user_id` and `followee_user_id`.\n    - SQL Indexes:\n        - `idx_comments_post_id`: Index on `comments.post_id` for efficient lookup of comments by post.\n        - `idx_comments_parent_comment_id`: Index on `comments.parent_comment_id` for efficient lookup of replies.\n        - `idx_likes_content`: Index on `likes.content_type` and `likes.content_id` for efficient lookup of likes by content.\n- Notable Patterns or Logic: Database migration script, SQL DDL (Data Definition Language), ENUM type definition, foreign key constraints, unique constraints, indexing for performance, cascading deletes.",
  "pkg/util/hash.go": "- File Path: `pkg/util/hash.go`\n- High-Level Purpose: This file provides utility functions for securely hashing and comparing passwords using the bcrypt algorithm.\n- Definitions in the File:\n    - Functions:\n        - `HashPassword(password string)`: An exported function that takes a plain-text password and returns its bcrypt hash string and an error if one occurs.\n        - `CheckPasswordHash(password, hash string)`: An exported function that compares a plain-text password with a bcrypt hash, returning `true` if they match and `false` otherwise.\n- Notable Patterns or Logic: Utility package, password security (bcrypt).\n",
  "pkg/util/jwt.go": "- File Path: `pkg/util/jwt.go`\n- High-Level Purpose: This file provides utility functions for generating and validating JSON Web Tokens (JWTs) for user authentication.\n- Definitions in the File:\n    - Variables:\n        - `jwtSecret`: A module-level byte slice holding the secret key for signing JWTs (marked with a TODO to move to config).\n    - Structs:\n        - `Claims`: A struct that embeds `jwt.RegisteredClaims` and adds custom fields `UserID` (int64) and `Username` (string) for JWT payload.\n    - Functions:\n        - `GenerateJWT(userID int64, username string)`: An exported function that creates a new JWT with the given user ID and username, sets an expiration time (24 hours), and signs it with `jwtSecret`.\n        - `ValidateJWT(tokenStr string)`: An exported function that parses and validates a given JWT string using `jwtSecret`, returning the custom `Claims` if valid, or an error otherwise.\n- Notable Patterns or Logic: JWT generation and validation, security utility.\n",
  "pkg/util/slugify.go": "- File Path: `pkg/util/slugify.go`\n- High-Level Purpose: This file provides a utility function to convert a given string into a URL-friendly slug.\n- Definitions in the File:\n    - Variables:\n        - `nonAlphaNumRegex`: A module-level regular expression to match non-alphanumeric characters.\n        - `dashRegex`: A module-level regular expression to match multiple consecutive hyphens.\n    - Functions:\n        - `Slugify(s string)`: An exported function that takes a string, converts it to lowercase, replaces non-alphanumeric characters with hyphens, collapses multiple hyphens, and trims leading/trailing hyphens to produce a clean slug.\n- Notable Patterns or Logic: Utility package, string manipulation, regular expressions for text processing.\n"
}